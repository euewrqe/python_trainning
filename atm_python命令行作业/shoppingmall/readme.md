##作者信息：
* 版本：1.0
* 作者：李啸宇
* 日期：2017-01-17
* email：euewrqe@gmail.com
* blog: http://euewrqe-blog.logdown.com/
* GitHub：https://github.com/euewrqe/menuToShopping
* 解释器: Python3.5


##本程序为三级菜单和购物商城的结合的程序

###要求：
    1. 打印三级菜单,输入数字打印对应的菜单，最后一个菜单为购买
    2. 三级菜单可自由到达到上一级以及结账环节
    3. 最后一级菜单用于取商品，取到商品放入购物车
    4. 首先要输入工资，用于购买商品，如果发现购买的该商品
    加上购物车的总价格超出工资的范围，会提醒你还缺多少，并且不放入购物车
    5. 在输入商品的地方输入help，可以查询命令

###扩展项：
1. 本程序的商品列表放在super下面，可随意放置，但是要符合规范
2. *****程序执行后，商品的列表被加载到字典上，可打印n级菜单
3. ****程序按照递归的形式一层一层打印
4. *有多种选择，可删除已选中的
5. **本程序相当关注程序工整性，代码重复率，程序的优化
6. ****可以切换购买模式，如果为购物模式，直接打印商品列表，并选购，还可以再次切换成浏览模式，
浏览模式指可以一类一类浏览

###考虑方法
首先考虑如何打印结果，就想这样
```
请输入您的余额有多少:5000
******欢迎光临，XXX商店******
本店有：
    1. 本子
    2. 游戏
    3. 手办
    4. 抱枕
请输入你要买哪种？1\2\3\4\carry\exit
XXX商店>本子：
    1. 全年龄本
    2. R18本
请输入你要买哪种本子：1\2\0(返回)\carry\exit
XXX商店>本子>R18本:
    1. 漫画
    2. 同人志
请输入你要买哪种漫画：1\2\0(返回)\carry\exit
XXX商店>本子>R18本>漫画:
    1. （Smile光之美少女！）& 1000
    2. （女巫工艺厂）& 2000
请输入你要买哪种漫画：1\2\0(返回)\carry\exit
已经买下XXXX,余额还剩xxxx/买不了，还差XXXX
carry:
    1. （女巫工艺厂）$:2000
    2. xxx $:3000
    是否结账[y/n]:

您所剩余额还有：xxx
```
然后我是考虑从文件中一行行读出来，并解析到字典中
怎么解析，字典是有键值的,就想着用一个键对应一个字典的值，
就像这样：
```
虎之穴     #此为店名，顶行标志
    游戏
        R18
            纯爱
                - 五彩斑斓的世界 & 1000
                - 五彩斑斓的世界 & 1000
        全年龄
```
解释
```
从第二行开始行开头是，4个空格   1级
从第三行开始行开头是，4*2个空格  2级
也就是，如果这一行是上一行下级，(这一行空格数-上一行的空格数)/4为增加的级数,这个不会遇到
也就是，如果这一行是上一行的的上级，|(这一行空格数-上一行的空格数)|/4为减少的级数，这个是有的
例如上面所说的"- 五彩斑斓的世界 & 1000"和"全年龄"是两级的关系,
如果该行与上一行是同级，又该怎么做？
所以我把前一行的变量设置成一个空格数池，我永远只取这个池的最后一个，
当最后一个和倒数第二个相等，减去一个
这样就解决了同级的问题。
```

```
首先我要有一个初始化的字典
然后我要有一个路径池，储存字典的每一层的对象
还得有一个指针和指针下标，指针下标永远指向路径池最后一个，
指针为最后一个的字典对象，就想我下面所说的
```
储存字典的想法
```
this_dict_obj=None

this_dict_obj=product={}  dict_obj_pool=[product,]
{游戏:{}}   this_dict_obj["游戏"]={};this_dict_obj=this_dict_obj["游戏"];dict_obj_pool=[product,product["游戏"]]
{游戏:{R18:{}}}   this_dict_obj["R18"]={}  ;this_dict_obj=this_dict_obj["R18"];dict_obj_pool=[product,product["游戏"],product["游戏"]["R18"]]
{游戏:{R18:{},全年龄:{}}}    全年龄={}     dict_obj_pool=[product,product["游戏"],product["游戏"]["R18"]]
                                            dict_obj_pool.pop(-1)
                                            dict_obj_pool=[product,product["游戏"]]
                                            this_dict_obj=dict_obj_pool[-1]
                                            this_dict_obj["全年龄"]={}
                                            this_dict_obj=this_dict_obj["全年龄"]
                                            dict_obj_pool=[product,product["游戏"],product["游戏"]["全年龄"]]

{游戏:{R18:{},全年龄:{}},本子}     dict_obj_pool=[product,product["游戏"],product["游戏"]["全年龄"]]
                                   dict_obj_pool=[product]
                                   this_dict_obj=dict_obj_pool
                                   this_dict_obj["本子"]={}
                                   [product,product["本子"]]
```

储存解决了之后，我就可以随意想多少层就多少层，但是要符合规范：
上一级到下一级必须是四个空格，
下一级到上几级可以是多个4的倍数的空格
就想文件夹目录一样。

<p style="color:red">pprint这个模块是一个很好的用来调试字典和列表的工具</p>
然后解决打印菜单的功能
打印多层菜单，可以用递归的方法，
简单的递归实现

```python
pro_dict={}
def cleanDict():
    menu_key_li=[]
    for i, k in enumerate(pro_dict):
        print(pro_dict[k])
        menu_key_li.append(k)
    #如果下一级有货，就递归
    num = int(input("pls input num："))
    return if num=="exit" else cleanDict(pro_dict[menu_key_li[num]])
```
以上方法就能实现打印菜单。
前几层为类别菜单，最后一层菜单为购买的物品，凡是物品菜单格式：
```
- <物品名称> & <物品价格>
```
用re正则匹配，也就是最后面可以不跟物品，但跟的物品，就要符合上述格式
凡是碰到选购物品，就往购物车放，先判断输入的工资和价格的大小，买的起就放


本程序的核心思想之一，
就是要理解像列表，字典是可变的，字符串，整数，元祖是不可变的。
python的变量赋值是以引用赋值
详细解释，请看：
python传参和拷贝:http://euewrqe-blog.logdown.com/posts/1314490

本次更新的博客还有：

